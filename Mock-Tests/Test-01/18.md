### ìë°” Singleton íŒ¨í„´ ë¬¸ì œ í•´ì„¤
---

### âœ… ë¬¸ì œ 18

ë‹¤ìŒì€ ìë°” ì½”ë“œì´ë‹¤. ì¶œë ¥ ê²°ê³¼ë¥¼ ì“°ì‹œì˜¤.

```java
class Soojebi {
    static private Soojebi instance = null;
    private int count = 0;

    static public Soojebi get(int x) {
        if (instance == null)
            instance = new Soojebi();
        instance.count += x;
        return instance;
    }

    public void count() { count++; }
    public int getCount() { return instance.count; }
}

public class Soojebi2 {
    public static void main(String[] args) {
        Soojebi s1 = Soojebi.get(2);
        s1.count();

        Soojebi s2 = Soojebi.get(3);
        s2.count();

        System.out.print(s1.getCount());
    }
}
```

### ğŸ” í•µì‹¬ ê°œë…: Singleton íŒ¨í„´

- instanceëŠ” static í•„ë“œë¡œ í´ë˜ìŠ¤ë‹¹ í•˜ë‚˜ë§Œ ì¡´ì¬
- get(int x)ëŠ” ìµœì´ˆ í˜¸ì¶œ ì‹œ ê°ì²´ ìƒì„±, ì´í›„ ë™ì¼ ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜
- count í•„ë“œëŠ” ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ì´ë©° í•˜ë‚˜ë§Œ ì¡´ì¬
- ë‘ ê°ì²´ s1, s2ëŠ” ì‚¬ì‹¤ìƒ ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¨ë‹¤

### ğŸ§  ì‹¤í–‰ íë¦„

| ì½”ë“œ                      | ì„¤ëª…                         | count ê°’ |
| ----------------------- | -------------------------- | ------- |
| `Soojebi.get(2)`        | instance ìƒì„± í›„ `count += 2` | 2       |
| `s1.count()`            | `count++`                  | 3       |
| `Soojebi.get(3)`        | ê¸°ì¡´ ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš©, `count += 3`   | 6       |
| `s2.count()`            | `count++`                  | 7       |
| `System.out.print(...)` | `s1.getCount()` â†’ 7        | ì¶œë ¥: 7   |


### âœ… ìµœì¢… ì¶œë ¥ ê²°ê³¼
```
7
```

### ğŸ“˜ ì°¸ê³ 

Singleton íŒ¨í„´ì´ë€?
í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì˜¤ì§ 1ê°œë§Œ ìƒì„±í•˜ë„ë¡ ë³´ì¥í•˜ëŠ” ë””ìì¸ íŒ¨í„´

```
class Singleton {
    private static Singleton instance = null;
    private Singleton() {}
    public static Singleton getInstance() {
        if (instance == null) instance = new Singleton();
        return instance;
    }
}
```

- ê³µìœ  ìì› ê´€ë¦¬ì— ì í•© (ex. ì„¤ì • ê°ì²´, DB ì—°ê²° ë“±)

---

### ğŸ“„ ë¬¸ì œ ìš”ì•½ (ì£¼ìš” í´ë˜ìŠ¤ êµ¬ì¡°)
```
01 class Soojebi {
02     static private Soojebi instance = null;
03     private int count = 0;

04     static public Soojebi get(int x) {
05         if (instance == null)
06             instance = new Soojebi();
07         instance.count += x;
08         return instance;
09     }

10     public void count() { count++; }

11     public int getCount() { return instance.count; }
12 }

13 public class Soojebi2 {
14     public static void main(String[] args) {
15         Soojebi s1 = Soojebi.get(2);
16         s1.count();
17         Soojebi s2 = Soojebi.get(3);
18         s2.count();
19         System.out.print(s1.getCount());
20     }
21 }
```

### âœ… ì‹¤í–‰ íë¦„ (í–‰ ë²ˆí˜¸ ê¸°ì¤€)

| í–‰ ë²ˆí˜¸   | ì½”ë“œ                                 | ì„¤ëª…                                                                          |
| ------ | ---------------------------------- | --------------------------------------------------------------------------- |
| **14** | `public static void main(...)`     | í”„ë¡œê·¸ë¨ ì‹œì‘ì                                                                     |
| **15** | `Soojebi s1 = Soojebi.get(2);`     | `get(2)` í˜¸ì¶œ â†’ instanceê°€ `null`ì´ë¯€ë¡œ `new Soojebi()` ìƒì„±ë¨ (`count = 0 + 2 = 2`) |
| **16** | `s1.count();`                      | `count++` í˜¸ì¶œ â†’ `count = 2 + 1 = 3`                                          |
| **17** | `Soojebi s2 = Soojebi.get(3);`     | ì´ë¯¸ instanceê°€ ì¡´ì¬í•˜ë¯€ë¡œ ê¸°ì¡´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê·¸ëŒ€ë¡œ ë°˜í™˜ â†’ `count += 3` â†’ `count = 3 + 3 = 6`     |
| **18** | `s2.count();`                      | ë™ì¼ ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•´ `count++` í˜¸ì¶œ â†’ `count = 6 + 1 = 7`                              |
| **19** | `System.out.print(s1.getCount());` | `getCount()`ëŠ” `instance.count` ë°˜í™˜ â†’ ì¶œë ¥: **`7`**                             |


### ğŸ§  ë‚´ë¶€ ë³€ìˆ˜ ë³€í™” ìš”ì•½

| ë‹¨ê³„      | ì„¤ëª…                                         | `count` ê°’ |
| ------- | ------------------------------------------ | --------- |
| get(2)  | `instance = new Soojebi();` + `count += 2` | 2         |
| count() | `count++`                                  | 3         |
| get(3)  | `count += 3`                               | 6         |
| count() | `count++`                                  | 7         |

### âœ… ìµœì¢… ì¶œë ¥ ê²°ê³¼
```
7
```

### ğŸ” í•µì‹¬ ê°œë… ìš”ì•½

- static Soojebi instanceëŠ” Singleton íŒ¨í„´
- get(int x)ëŠ” ë§¤ë²ˆ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì§€ ì•Šê³  í•˜ë‚˜ë§Œ ìœ ì§€
- countëŠ” ê·¸ ì¸ìŠ¤í„´ìŠ¤ ë‚´ë¶€ í•„ë“œ â†’ ì—¬ëŸ¬ ì°¸ì¡°(s1, s2) ëª¨ë‘ ê°™ì€ ê°ì²´ë¥¼ ê³µìœ 
